apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Helm chart sources
  - sources/helm-repositories.yaml
  # MetalLB — bare-metal load balancer
  - metallb/namespace.yaml
  - metallb/helmrelease.yaml
  - metallb/config.yaml
  # NFS CSI — persistent storage
  - nfs-csi/helmrelease.yaml
  - nfs-csi/storageclass.yaml
  # Traefik — ingress controller
  - traefik/namespace.yaml
  - traefik/helmrelease.yaml
  # Vault — secret management
  - vault/namespace.yaml
  - vault/helmrelease.yaml
  - vault/init-config.yaml
  # External Secrets Operator — sync secrets from Vault to k8s
  - external-secrets/namespace.yaml
  - external-secrets/helmrelease.yaml
  - external-secrets/rbac.yaml
  - external-secrets/secretstore.yaml
